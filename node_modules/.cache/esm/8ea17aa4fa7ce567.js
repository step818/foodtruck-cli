let Conf,Table,configKey,validateApiKey,queryFoodTrucks;_fa7‍.x([["now",()=>now]]);_fa7‍.w("conf",[["default",["Conf"],function(v){Conf=v}]]);_fa7‍.w("cli-table3",[["default",["Table"],function(v){Table=v}]]);_fa7‍.w("./configure",[["configKey",["configKey"],function(v){configKey=v}]]);_fa7‍.w("./utils",[["validateApiKey",["validateApiKey"],function(v){validateApiKey=v}],["queryFoodTrucks",["queryFoodTrucks"],function(v){queryFoodTrucks=v}]]);




       async function now(args) {
  const config = new Conf().get(configKey);
  const apiKey = args.apiKey || args.k || config.apiKey;
  if (!validateApiKey(apiKey)) {
    return;
  }

  const { data } = await queryFoodTrucks(apiKey);

  const table = new Table({
    head: ['Food Truck', 'Location'],
    colWidths: [20, 28],
    wordWrap: true
  });
  // create filter for adding food trucks at current DATE & TIME
  let day = new Date();
  for (let i = 0; i< data.length; i++) {
    if (data[i].dayorder == day.getDay()) {
      table.push([
        data[i].applicant,
        data[i].location
      ]);
    }
  }
  _fa7‍.g.console.log(table.toString());
}