let Conf,Table,configKey,validateApiKey,queryFoodTrucks;_928‍.x([["now",()=>now]]);_928‍.w("conf",[["default",["Conf"],function(v){Conf=v}]]);_928‍.w("cli-table3",[["default",["Table"],function(v){Table=v}]]);_928‍.w("./configure",[["configKey",["configKey"],function(v){configKey=v}]]);_928‍.w("./utils",[["validateApiKey",["validateApiKey"],function(v){validateApiKey=v}],["queryFoodTrucks",["queryFoodTrucks"],function(v){queryFoodTrucks=v}]]);




       async function now(args) {
  const config = new Conf().get(configKey);
  const apiKey = args.apiKey || args.k || config.apiKey;
  if (!validateApiKey(apiKey)) {
    return;
  }

  const { data } = await queryFoodTrucks(apiKey);

  const table = new Table({
    head: ['Food Truck', 'Location', 'Day', 'Start', 'End'],
    colWidths: [18, 20, 10, 9, 9],
    wordWrap: true
  });
  // create filter for adding food trucks at current DATE & TIME
  let currentDay = new Date();
  let time = currentDay.getHours().toString() + ":" + currentDay.getMinutes().toString(); 
  _928‍.g.console.log(time);
  for (let i = 0; i< data.length; i++) {
    if (data[i].dayorder == currentDay.getDay()
        && data[i].start24 <= time
        && data[i].end24 >= time) {
      table.push([
        data[i].applicant,
        data[i].location,
        data[i].dayofweekstr,
        data[i].start24,
        data[i].end24
      ]);
    }
  }
  _928‍.g.console.log(table.toString());
}